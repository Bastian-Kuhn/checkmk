Title: NetApp: addition of datasource program and check plugins for NetApp ONTAP
Class: feature
Compatible: compat
Component: checks
Date: 1706530527
Edition: cre
Level: 1
Version: 2.2.0p21

Since NetApp has discontinued support for their old API this werk adds datasource program and check plugins for the new NetApp ONTAP REST API.

However, the new API does not provide certain metrics that were available in the old API. As a result, the new check plugins have been modified accordingly.

The plugins that have been migrated with this werk are the ones that monitor:

LI: NetApp aggregates
LI: NetApp node's CPUs
LI: NetApp disks
LI: NetApp sensors of environment and shelves
LI: NetApp node's fans
LI: NetApp node's interfaces
LI: NetApp LUNs
LI: NetApp node's ports
LI: NetApp power supply units
LI: NetApp volumes (and snapshots)
LI: NetApp (SVMs) Storage Virtual Machine's (formerly called "vservers”) traffic and status

These plugins and metrics are under development:
LI: NetApp snapvault
LI: NetApp qtree quota
LI: NetApp FCP
LI: NetApp (SVMs) Storage Virtual Machine's (formerly called "vservers”): Nfsv3_read_ios (read ops), Nfsv3_write_ios (write ops)

Here is a list of missing metrics and plugins as the corresponding data cannot be found in the new NetApp API:
LI: NetApp Disk Summary: Parity disks, Total number of disks type data, Total number of disks type parity
LI: Traffic SVM (formerly vServer): Nfsv4_read_ios (read ops), Nfsv4_write_ios (write ops)
LI: System time: Missing service